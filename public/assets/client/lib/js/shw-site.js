jQuery(document).ready(function (s) {
    "use strict"; let e = s(".shw-collapsible .collapsible"); e.length > 0 && e.map((e, a) => { s(a).on("click", () => { s(a).toggleClass("active"), s(a).next().toggleClass("active") }) }); let a = s(".view-more-description"), t = s(".view-more-description-category"); a.length > 0 && a.map((e, a) => { if (s(a).height() > 200) { let e = s('<a class="btn-view-more-description" href="javascript:void(0);">Má»Ÿ rá»™ng </a>'); s(a).append(e), s(".description-content", a).css("height", "500px"), s(a).addClass("less"), e.on("click", () => { s(a).hasClass("less") ? (s(a).removeClass("less"), s(a).addClass("more"), s(".description-content", a).css("height", "auto"), e.text("Thu nhá»")) : (s(a).removeClass("more"), s(a).addClass("less"), s(".description-content", a).css("height", "500px"), e.text("Má»Ÿ rá»™ng")) }) } }), t.length > 0 && t.map((e, a) => { if (s(a).height() > 200) { let e = s('<a class="btn-view-more-description-category" href="javascript:void(0);">Má»Ÿ rá»™ng </a>'); s(a).append(e), s(a).css("height", "700px"), s(a).addClass("less"), e.on("click", () => { s(a).hasClass("less") ? (s(a).removeClass("less"), s(a).addClass("more"), s(a).css("height", "auto"), e.text("Thu nhá»")) : (s(a).removeClass("more"), s(a).addClass("less"), s(a).css("height", "700px"), e.text("Má»Ÿ rá»™ng")) }) } }), s(".shw-searchform .search-field").each(function () {
        let e = s(this); e.on("input", function () { clearTimeout(this.delay), (this.delay = setTimeout(function () { s(this).trigger("search") }.bind(this), 800)) }).on("search", function (t) { if (this.value) { t.preventDefault(); var c = this.value.replace(/:|;|!|@@|#|\$|%|\^|&|\*|'|"|>|<|,|\.|\?|`|~|\+|=|_|\(|\)|{|}|\[|\]|\\|\|/gi, "").trim(); const r = new URL(window.location.href); if ((r.searchParams.set("s", c), r.searchParams.set("post_type", "product"), window.history.replaceState(null, null, r), c.length < 3)) { let t = { action: "ajax_shw_search", sub_action: "ajax_shw_search_focus", }; s.ajax({ type: "GET", dataType: "json", url: flatsomeVars.ajaxurl, data: t, beforeSend: function () { (a = !0), s(".shw-search-result-content", e.closest(".shw-searchform")).addClass("loading") }, success: function (t) { s(".shw-search-result-content", e.closest(".shw-searchform")).html(""), s(".shw-search-result-content", e.closest(".shw-searchform")).html(t.data), s(".shw-search-result-content", e.closest(".shw-searchform")).removeClass("loading"), (a = !1) }, }) } else { let t = { action: "ajax_shw_search", sub_action: "ajax_shw_search_keyup", search: c, }; s.ajax({ type: "GET", dataType: "json", url: flatsomeVars.ajaxurl, data: t, beforeSend: function () { (a = !0), s(".shw-search-result-content", e.closest(".shw-searchform")).addClass("loading") }, success: function (t) { s(".shw-search-result-content", e.closest(".shw-searchform")).html(""), s(".shw-search-result-content", e.closest(".shw-searchform")).html(t.data), s(".shw-search-result-content", e.closest(".shw-searchform")).removeClass("loading"), (a = !1) }, }) } } }); var a = !1; e.on("focus", function (t) {
            t.preventDefault(); var c = e.val().replace(/:|;|!|@@|#|\$|%|\^|&|\*|'|"|>|<|,|\.|\?|`|~|\+|=|_|\(|\)|{|}|\[|\]|\\|\|/gi, "").trim(); if ((s(".shw-search-result", e.closest(".shw-searchform")).addClass("active"), !a))
                if (c.length < 3) { let t = { action: "ajax_shw_search", sub_action: "ajax_shw_search_focus", }; s.ajax({ type: "GET", dataType: "json", url: flatsomeVars.ajaxurl, data: t, beforeSend: function () { (a = !0), s(".shw-search-result-content", e.closest(".shw-searchform")).addClass("loading") }, success: function (t) { s(".shw-search-result-content", e.closest(".shw-searchform")).html(""), s(".shw-search-result-content", e.closest(".shw-searchform")).html(t.data), s(".shw-search-result-content", e.closest(".shw-searchform")).removeClass("loading"), (a = !1) }, }) } else { let t = { action: "ajax_shw_search", sub_action: "ajax_shw_search_keyup", search: c, }; s.ajax({ type: "GET", dataType: "json", url: flatsomeVars.ajaxurl, data: t, beforeSend: function () { (a = !0), s(".shw-search-result-content", e.closest(".shw-searchform")).addClass("loading") }, success: function (t) { s(".shw-search-result-content", e.closest(".shw-searchform")).html(""), s(".shw-search-result-content", e.closest(".shw-searchform")).html(t.data), s(".shw-search-result-content", e.closest(".shw-searchform")).removeClass("loading"), (a = !1) }, }) }
        }), e.on("focusout", function (t) { t.preventDefault(), s(".shw-search-result", e.closest(".shw-searchform")).removeClass("active"), a || s(".shw-search-result-content", e.closest(".shw-searchform")).removeClass("loading") })
    }); const images = document.querySelectorAll(".carousel-image"); if (images.length > 0) {
        const dots = document.querySelectorAll(".dot"); const prevBtn = document.querySelector("#prevBtn"); const nextBtn = document.querySelector("#nextBtn"); const nextSlide = () => {
            const currentSlide = document.querySelector(".current"); currentSlide.classList.remove("current"); if (currentSlide.nextElementSibling) { currentSlide.nextElementSibling.classList.add("current") } else { images[0].classList.add("current") }
            dotsNextSlide()
        }; const prevSlide = () => {
            const currentSlide = document.querySelector(".current"); currentSlide.classList.remove("current"); if (currentSlide.previousElementSibling) { currentSlide.previousElementSibling.classList.add("current") } else { images[images.length - 1].classList.add("current") }
            dotsPrevSlide()
        }; nextBtn.addEventListener("click", (k) => { nextSlide() }); prevBtn.addEventListener("click", (k) => { prevSlide() }); const dotsNextSlide = () => {
            const dotActive = document.querySelector(".active"); dotActive.classList.remove("active"); if (dotActive.nextElementSibling) { dotActive.nextElementSibling.classList.add("active") } else { dots[0].classList.add("active") }
            dotActive.classList.remove("active")
        }; const dotsPrevSlide = () => {
            const dotActive = document.querySelector(".active"); dotActive.classList.remove("active"); if (dotActive.previousElementSibling) { dotActive.previousElementSibling.classList.add("active") } else { dots[dots.length - 1].classList.add("active") }
            dotActive.classList.remove("active")
        }; const dotJump = () => { dots.forEach((dot, index) => { dot.addEventListener("click", () => { const dotActive = document.querySelector(".active"); dotActive.classList.remove("active"); dot.classList.add("active"); const imageTarget = images[index]; const currentSlide = document.querySelector(".current"); currentSlide.classList.remove("current"); imageTarget.classList.add("current") }) }) }; dotJump()
    }
})
